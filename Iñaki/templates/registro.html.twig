<!DOCTYPE html>
<html>
<head>
    <title>Registro</title>
    <style>
        #datos {
            width: 300px;
            height: 50px; 
        }
    </style>
</head>
<body>
    <div>
        <form action="{{ path('registro') }}" method="POST" onsubmit="return validarFormulario(event)">
            *Indica un nombre de usuario: <input type="text" name="nombre" id="nombre" class="registro"><br><br>
            *Indica un email de registro: <input type="text" name="correo" id="correo" class="registro"><br><br>
            *Indica una contraseña: <input type="password" name="passwd"  id="passwd" class="registro"><br><br>
            *Indica una localidad: <input type="text" name="ciudad" id="ciudad" class="registro"><br><br>
            Fecha de nacimiento: <input type="date" name="fechaN" id="fechaN" class="registro"><br><br>
            Datos adicionales: <input type="text" maxlength="300" name="datos" id='datos' class="registro"><br><br>
            <input type="submit" value="Registrarse">
        </form>
    </div>
    <p>*Valores obligatorios</p>
    <script>
        function validarFormulario(event) {
            var nombre = document.getElementById("nombre").value;
            var correo = document.getElementById("correo").value;
            var passwd = document.getElementById("passwd").value;
            var ciudad = document.getElementById("ciudad").value;
            var fechaN = document.getElementById("fechaN").value;

            // Validación de campos vacíos
            if (nombre == "" || correo == "" || passwd == "" || ciudad == "") {
                alert("Por favor, complete todos los campos obligatorios.");
                return false;
            }

            // Validación de formato de email
            var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(correo)) {
                alert("Por favor, introduzca una dirección de correo electrónico válida.");
                return false;
            }

            // Validación de contraseña
            if (passwd.length < 8) {
                alert("La contraseña debe tener al menos 8 caracteres.");
                return false;
            }

            // Validación de fecha de nacimiento
            if (fechaN !== "") {
                var fechaNacimiento = new Date(fechaN);
                var fechaActual = new Date();
                if (fechaNacimiento >= fechaActual) {
                    alert("La fecha de nacimiento debe ser anterior a la fecha actual.");
                    return false;
                }
            }
            return true;
        }
    </script>
</body>
</html>
